<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_45) on Fri Jan 15 20:52:03 CET 2016 -->
<title>CartController</title>
<meta name="date" content="2016-01-15">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CartController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CartController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../kickstart/controller/CheckReservationController.html" title="class in kickstart.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?kickstart/controller/CartController.html" target="_top">Frames</a></li>
<li><a href="CartController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">kickstart.controller</div>
<h2 title="Class CartController" class="title">Class CartController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>kickstart.controller.CartController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Controller
 @SessionAttributes(value="cart")
public class <span class="typeNameLabel">CartController</span>
extends java.lang.Object</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>08.11.15.</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Beatrice</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.salespointframework.time.BusinessTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#businessTime">businessTime</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../kickstart/model/CartHelper.html" title="class in kickstart.model">CartHelper</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#cartHelper">cartHelper</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../kickstart/Repositorys/CartRepo.html" title="interface in kickstart.Repositorys">CartRepo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#cartrepo">cartrepo</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../kickstart/model/eventManagement/CProgram.html" title="class in kickstart.model.eventManagement">CProgram</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#cinema_program">cinema_program</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../kickstart/Repositorys/DBDate.html" title="interface in kickstart.Repositorys">DBDate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#dbDate">dbDate</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../kickstart/Repositorys/DBEvent.html" title="interface in kickstart.Repositorys">DBEvent</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#dbEvent">dbEvent</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../kickstart/Repositorys/DBRoom.html" title="interface in kickstart.Repositorys">DBRoom</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#dbRoom">dbRoom</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../kickstart/Repositorys/DBSeat.html" title="interface in kickstart.Repositorys">DBSeat</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#dbSeat">dbSeat</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#minutesBeforeMovieDeleteReservation">minutesBeforeMovieDeleteReservation</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#minutesUntilClearReservation">minutesUntilClearReservation</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../kickstart/controller/CMail.html" title="class in kickstart.controller">CMail</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#MyMailSender">MyMailSender</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../kickstart/Repositorys/TicketCatalog.html" title="interface in kickstart.Repositorys">TicketCatalog</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#ticketCatalog">ticketCatalog</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../kickstart/SavedClasses/CCinemaTicket.html" title="class in kickstart.SavedClasses">CCinemaTicket</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#ticketlist">ticketlist</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#CartController-kickstart.Repositorys.DBSeat-kickstart.model.eventManagement.CProgram-org.salespointframework.time.BusinessTime-kickstart.Repositorys.CartRepo-kickstart.Repositorys.TicketCatalog-kickstart.Repositorys.DBRoom-org.springframework.mail.MailSender-kickstart.Repositorys.DBDate-kickstart.Repositorys.DBEvent-">CartController</a></span>(<a href="../../kickstart/Repositorys/DBSeat.html" title="interface in kickstart.Repositorys">DBSeat</a>&nbsp;dbSeat,
              <a href="../../kickstart/model/eventManagement/CProgram.html" title="class in kickstart.model.eventManagement">CProgram</a>&nbsp;cProgram,
              org.salespointframework.time.BusinessTime&nbsp;businessTime,
              <a href="../../kickstart/Repositorys/CartRepo.html" title="interface in kickstart.Repositorys">CartRepo</a>&nbsp;cartrepo,
              <a href="../../kickstart/Repositorys/TicketCatalog.html" title="interface in kickstart.Repositorys">TicketCatalog</a>&nbsp;ticketCatalog,
              <a href="../../kickstart/Repositorys/DBRoom.html" title="interface in kickstart.Repositorys">DBRoom</a>&nbsp;dbRoom,
              org.springframework.mail.MailSender&nbsp;sender,
              <a href="../../kickstart/Repositorys/DBDate.html" title="interface in kickstart.Repositorys">DBDate</a>&nbsp;dbDate,
              <a href="../../kickstart/Repositorys/DBEvent.html" title="interface in kickstart.Repositorys">DBEvent</a>&nbsp;dbEvent)</code>
<div class="block">The CartController constructor it gets some of its attributes from Spring</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#basket-org.salespointframework.order.Cart-org.springframework.ui.Model-">basket</a></span>(org.salespointframework.order.Cart&nbsp;cart,
      org.springframework.ui.Model&nbsp;model)</code>
<div class="block">Method called every time the cart contents are read.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#buy-org.salespointframework.order.Cart-java.util.Optional-org.springframework.ui.Model-org.springframework.web.servlet.mvc.support.RedirectAttributes-">buy</a></span>(org.salespointframework.order.Cart&nbsp;cart,
   java.util.Optional&lt;org.salespointframework.useraccount.UserAccount&gt;&nbsp;userAccount,
   org.springframework.ui.Model&nbsp;model,
   org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</code>
<div class="block">Method called upon when a purchase is made.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#changeClass-org.salespointframework.order.Cart-java.lang.String-java.lang.String-">changeClass</a></span>(org.salespointframework.order.Cart&nbsp;cart,
           java.lang.String&nbsp;cartItem,
           java.lang.String&nbsp;priceclass)</code>
<div class="block">Method changing the price class of a single cart item, price difference hardcoded for now.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#empty-org.salespointframework.order.Cart-">empty</a></span>(org.salespointframework.order.Cart&nbsp;cart)</code>
<div class="block">Completely clears out a user's current cart, and
 sets all selected CSeats back to AVAILABLE.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#event-org.salespointframework.order.Cart-java.lang.Long-java.lang.Integer-java.lang.Integer-org.springframework.web.servlet.mvc.support.RedirectAttributes-">event</a></span>(org.salespointframework.order.Cart&nbsp;cart,
     java.lang.Long&nbsp;ID,
     java.lang.Integer&nbsp;row,
     java.lang.Integer&nbsp;number,
     org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</code>
<div class="block">Method adding a CCinemaTicket to the user's cart every time a seat
 is selected on the event page.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#event-org.salespointframework.order.Cart-java.lang.Long-org.springframework.ui.Model-">event</a></span>(org.salespointframework.order.Cart&nbsp;cart,
     java.lang.Long&nbsp;ID,
     org.springframework.ui.Model&nbsp;model)</code>
<div class="block">Leads you to the event page</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>org.salespointframework.order.Cart</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#initializeCart--">initializeCart</a></span>()</code>
<div class="block">Initialize a new Cart</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#removeOne-org.salespointframework.order.Cart-java.lang.String-">removeOne</a></span>(org.salespointframework.order.Cart&nbsp;cart,
         java.lang.String&nbsp;cartItem)</code>
<div class="block">Removes a single ticket from cart and frees the seat</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../kickstart/controller/CartController.html#reserve-java.util.Optional-org.salespointframework.order.Cart-org.springframework.ui.Model-org.springframework.web.servlet.mvc.support.RedirectAttributes-java.lang.String-">reserve</a></span>(java.util.Optional&lt;org.salespointframework.useraccount.UserAccount&gt;&nbsp;userAccount,
       org.salespointframework.order.Cart&nbsp;cart,
       org.springframework.ui.Model&nbsp;model,
       org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes,
       java.lang.String&nbsp;mail)</code>
<div class="block">Method to RESERVE tickets.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="cinema_program">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cinema_program</h4>
<pre>private&nbsp;<a href="../../kickstart/model/eventManagement/CProgram.html" title="class in kickstart.model.eventManagement">CProgram</a> cinema_program</pre>
</li>
</ul>
<a name="ticketlist">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ticketlist</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../kickstart/SavedClasses/CCinemaTicket.html" title="class in kickstart.SavedClasses">CCinemaTicket</a>&gt; ticketlist</pre>
</li>
</ul>
<a name="businessTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>businessTime</h4>
<pre>private&nbsp;org.salespointframework.time.BusinessTime businessTime</pre>
</li>
</ul>
<a name="minutesBeforeMovieDeleteReservation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minutesBeforeMovieDeleteReservation</h4>
<pre>private final&nbsp;java.lang.Integer minutesBeforeMovieDeleteReservation</pre>
</li>
</ul>
<a name="minutesUntilClearReservation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minutesUntilClearReservation</h4>
<pre>private final&nbsp;java.lang.Integer minutesUntilClearReservation</pre>
</li>
</ul>
<a name="cartrepo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cartrepo</h4>
<pre>private&nbsp;<a href="../../kickstart/Repositorys/CartRepo.html" title="interface in kickstart.Repositorys">CartRepo</a> cartrepo</pre>
</li>
</ul>
<a name="ticketCatalog">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ticketCatalog</h4>
<pre>private&nbsp;<a href="../../kickstart/Repositorys/TicketCatalog.html" title="interface in kickstart.Repositorys">TicketCatalog</a> ticketCatalog</pre>
</li>
</ul>
<a name="dbRoom">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbRoom</h4>
<pre>private&nbsp;<a href="../../kickstart/Repositorys/DBRoom.html" title="interface in kickstart.Repositorys">DBRoom</a> dbRoom</pre>
</li>
</ul>
<a name="cartHelper">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cartHelper</h4>
<pre>private&nbsp;<a href="../../kickstart/model/CartHelper.html" title="class in kickstart.model">CartHelper</a> cartHelper</pre>
</li>
</ul>
<a name="dbEvent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbEvent</h4>
<pre>private&nbsp;<a href="../../kickstart/Repositorys/DBEvent.html" title="interface in kickstart.Repositorys">DBEvent</a> dbEvent</pre>
</li>
</ul>
<a name="dbDate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbDate</h4>
<pre>private&nbsp;<a href="../../kickstart/Repositorys/DBDate.html" title="interface in kickstart.Repositorys">DBDate</a> dbDate</pre>
</li>
</ul>
<a name="dbSeat">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbSeat</h4>
<pre>private&nbsp;<a href="../../kickstart/Repositorys/DBSeat.html" title="interface in kickstart.Repositorys">DBSeat</a> dbSeat</pre>
</li>
</ul>
<a name="MyMailSender">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MyMailSender</h4>
<pre>private&nbsp;<a href="../../kickstart/controller/CMail.html" title="class in kickstart.controller">CMail</a> MyMailSender</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CartController-kickstart.Repositorys.DBSeat-kickstart.model.eventManagement.CProgram-org.salespointframework.time.BusinessTime-kickstart.Repositorys.CartRepo-kickstart.Repositorys.TicketCatalog-kickstart.Repositorys.DBRoom-org.springframework.mail.MailSender-kickstart.Repositorys.DBDate-kickstart.Repositorys.DBEvent-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CartController</h4>
<pre>@Autowired
public&nbsp;CartController(<a href="../../kickstart/Repositorys/DBSeat.html" title="interface in kickstart.Repositorys">DBSeat</a>&nbsp;dbSeat,
                                  <a href="../../kickstart/model/eventManagement/CProgram.html" title="class in kickstart.model.eventManagement">CProgram</a>&nbsp;cProgram,
                                  org.salespointframework.time.BusinessTime&nbsp;businessTime,
                                  <a href="../../kickstart/Repositorys/CartRepo.html" title="interface in kickstart.Repositorys">CartRepo</a>&nbsp;cartrepo,
                                  <a href="../../kickstart/Repositorys/TicketCatalog.html" title="interface in kickstart.Repositorys">TicketCatalog</a>&nbsp;ticketCatalog,
                                  <a href="../../kickstart/Repositorys/DBRoom.html" title="interface in kickstart.Repositorys">DBRoom</a>&nbsp;dbRoom,
                                  org.springframework.mail.MailSender&nbsp;sender,
                                  <a href="../../kickstart/Repositorys/DBDate.html" title="interface in kickstart.Repositorys">DBDate</a>&nbsp;dbDate,
                                  <a href="../../kickstart/Repositorys/DBEvent.html" title="interface in kickstart.Repositorys">DBEvent</a>&nbsp;dbEvent)</pre>
<div class="block">The CartController constructor it gets some of its attributes from Spring</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>businessTime</code> - BusinessTime                                    : Provided by SalesPoint, its the time</dd>
<dd><code>cartrepo</code> - CartRepo                                                : Provided by SalesPoint, (database)</dd>
<dd><code>ticketCatalog</code> - TicketCatalog                                   : Its the ticket catalog contains all tickets</dd>
<dd><code>dbRoom</code> - DBRoom                                                  : Database Room, needed to save the room "structure"(string)</dd>
<dd><code>sender</code> - MailSender                                              : Spring-Mail-Sender sends the SimpleMail, provided by Salespoint</dd>
<dd><code>dbSeat</code> - DBSeat seat database</dd>
<dd><code>cProgram</code> - CProgram the program</dd>
<dd><code>dbDate</code> - DBDate CDateStorage database</dd>
<dd><code>dbEvent</code> - DBEvent event database</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initializeCart--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeCart</h4>
<pre>@ModelAttribute(value="cart")
public&nbsp;org.salespointframework.order.Cart&nbsp;initializeCart()</pre>
<div class="block">Initialize a new Cart</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new Cart : Returns a new Cart object</dd>
</dl>
</li>
</ul>
<a name="basket-org.salespointframework.order.Cart-org.springframework.ui.Model-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>basket</h4>
<pre>@RequestMapping(value="/cart",
                method=GET)
public&nbsp;java.lang.String&nbsp;basket(@ModelAttribute
                                                                                            org.salespointframework.order.Cart&nbsp;cart,
                                                                                            org.springframework.ui.Model&nbsp;model)</pre>
<div class="block">Method called every time the cart contents are read.
 It checks the cart's contents for tickets that have since
 passed their cart reservation time or have been made AVAILABLE
 by another session.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cart</code> - Cart                            : type of repository that contains all Products currently in the user's cart</dd>
<dd><code>model</code> - Model                           : Provided by SalesPoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cart.html</dd>
</dl>
</li>
</ul>
<a name="buy-org.salespointframework.order.Cart-java.util.Optional-org.springframework.ui.Model-org.springframework.web.servlet.mvc.support.RedirectAttributes-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buy</h4>
<pre>@RequestMapping(value="/buy",
                method=POST)
 @PreAuthorize(value="isAuthenticated()")
public&nbsp;java.lang.String&nbsp;buy(@ModelAttribute
                                                                                                                                    org.salespointframework.order.Cart&nbsp;cart,
                                                                                                                                    java.util.Optional&lt;org.salespointframework.useraccount.UserAccount&gt;&nbsp;userAccount,
                                                                                                                                    org.springframework.ui.Model&nbsp;model,
                                                                                                                                    org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</pre>
<div class="block">Method called upon when a purchase is made.
 The cart's contents are once again checked for invalid tickets
 (expired or AVAILABLE). If any are found, they are removed and
 the user is returned to the cart page.
 Otherwise, it checks the user's ROLE and creates a corresponding
 CCart object, completing the purchase and clearing the cart.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cart</code> - Cart                                                    : type of repository that contains all Products currently in the user's cart</dd>
<dd><code>userAccount</code> - Optional &#60;UserAccount&#62;  : active userAccount</dd>
<dd><code>model</code> - Model                                                   : Provided by SalesPoint</dd>
<dd><code>redirectAttributes</code> - RedirectAttributes                              : Provided by Spring</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>buy.html if successful, cart.html if failed</dd>
</dl>
</li>
</ul>
<a name="reserve-java.util.Optional-org.salespointframework.order.Cart-org.springframework.ui.Model-org.springframework.web.servlet.mvc.support.RedirectAttributes-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserve</h4>
<pre>@RequestMapping(value="/reserve",
                method=POST)
public&nbsp;java.lang.String&nbsp;reserve(java.util.Optional&lt;org.salespointframework.useraccount.UserAccount&gt;&nbsp;userAccount,
                                                                                                 @ModelAttribute
                                                                                                 org.salespointframework.order.Cart&nbsp;cart,
                                                                                                 org.springframework.ui.Model&nbsp;model,
                                                                                                 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes,
                                                                                                 @RequestParam(value="mail")
                                                                                                 java.lang.String&nbsp;mail)</pre>
<div class="block">Method to RESERVE tickets.
 All used attributes are read out of the Salespoint
 cart ModelAttribute. None are manually submitted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userAccount</code> - Optional&#60;UserAccount&#62;   : active userAccount</dd>
<dd><code>cart</code> - Cart                                                    : type of repository that contains all Products currently in the user's cart</dd>
<dd><code>model</code> - Model                                                   : Provided by SalesPoint</dd>
<dd><code>redirectAttributes</code> - : Provided by Spring</dd>
<dd><code>mail</code> - String                                                  : The email for the reservation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>reserve.html</dd>
</dl>
</li>
</ul>
<a name="empty-org.salespointframework.order.Cart-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>empty</h4>
<pre>@RequestMapping(value="/empty")
public&nbsp;java.lang.String&nbsp;empty(@ModelAttribute
                                                               org.salespointframework.order.Cart&nbsp;cart)</pre>
<div class="block">Completely clears out a user's current cart, and
 sets all selected CSeats back to AVAILABLE. All
 tickets are removed from the TicketCatalog.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cart</code> - Cart    : type of repository that contains all Products currently in the user's cart</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cart.html</dd>
</dl>
</li>
</ul>
<a name="removeOne-org.salespointframework.order.Cart-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeOne</h4>
<pre>@RequestMapping(value="/removeone")
public&nbsp;java.lang.String&nbsp;removeOne(@ModelAttribute
                                                                       org.salespointframework.order.Cart&nbsp;cart,
                                                                       @RequestParam(value="ticket")
                                                                       java.lang.String&nbsp;cartItem)</pre>
<div class="block">Removes a single ticket from cart and frees the seat</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cart</code> - Cart    : type of repository that contains all Products currently in the user's cart</dd>
<dd><code>cartItem</code> - String  : Single Cart Item</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cart.html</dd>
</dl>
</li>
</ul>
<a name="event-org.salespointframework.order.Cart-java.lang.Long-java.lang.Integer-java.lang.Integer-org.springframework.web.servlet.mvc.support.RedirectAttributes-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>event</h4>
<pre>@RequestMapping(value="/cart/{ID}/{row}/{number}")
public&nbsp;java.lang.String&nbsp;event(@ModelAttribute
                                                                                  org.salespointframework.order.Cart&nbsp;cart,
                                                                                  @PathVariable(value="ID")
                                                                                  java.lang.Long&nbsp;ID,
                                                                                  @PathVariable(value="row")
                                                                                  java.lang.Integer&nbsp;row,
                                                                                  @PathVariable(value="number")
                                                                                  java.lang.Integer&nbsp;number,
                                                                                  org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</pre>
<div class="block">Method adding a CCinemaTicket to the user's cart every time a seat
 is selected on the event page. The selected seat is marked RESERVED
 for a limited time and the detail page of the event is reloaded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cart</code> - Cart                            :The Cart and its containment</dd>
<dd><code>ID</code> - Integer                         : Event ID</dd>
<dd><code>row</code> - Integer                         : selected seat's row</dd>
<dd><code>number</code> - Integer                         : selected seat number</dd>
<dd><code>redirectAttributes</code> - RedirectAttributes      : sends seat and row attributes to side display of selected tickets, still buggy</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>event/ID/</dd>
</dl>
</li>
</ul>
<a name="changeClass-org.salespointframework.order.Cart-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeClass</h4>
<pre>@RequestMapping(value="changeclass")
public&nbsp;java.lang.String&nbsp;changeClass(@ModelAttribute
                                                                          org.salespointframework.order.Cart&nbsp;cart,
                                                                          @RequestParam(value="cartitem")
                                                                          java.lang.String&nbsp;cartItem,
                                                                          @RequestParam(value="priceclass")
                                                                          java.lang.String&nbsp;priceclass)</pre>
<div class="block">Method changing the price class of a single cart item, price difference hardcoded for now.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cart</code> - Cart    : type of repository that contains all Products currently in the user's cart</dd>
<dd><code>cartItem</code> - String  : Identifier of the selected cart item</dd>
<dd><code>priceclass</code> - String  : target priceclass selected by user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cart.html</dd>
</dl>
</li>
</ul>
<a name="event-org.salespointframework.order.Cart-java.lang.Long-org.springframework.ui.Model-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>event</h4>
<pre>@RequestMapping(value="/event/{ID}")
public&nbsp;java.lang.String&nbsp;event(@ModelAttribute
                                                                    org.salespointframework.order.Cart&nbsp;cart,
                                                                    @PathVariable(value="ID")
                                                                    java.lang.Long&nbsp;ID,
                                                                    org.springframework.ui.Model&nbsp;model)</pre>
<div class="block">Leads you to the event page</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ID</code> - Long the specific Id of the event</dd>
<dd><code>model</code> - Model provided by Spring</dd>
<dd><code>cart</code> - Cart cart modelattribute provided by SalesPoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>event.html</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CartController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../kickstart/controller/CheckReservationController.html" title="class in kickstart.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?kickstart/controller/CartController.html" target="_top">Frames</a></li>
<li><a href="CartController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
